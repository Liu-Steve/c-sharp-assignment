<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>公交管家-司机信息显示界面</title>
    <script src="JS/vue.js"></script>
    <link href="css/style.css" rel="stylesheet">
    <link href="css/bar.css" rel="stylesheet">

</head>

<body>
    <!-- navbar可调整菜单宽度 -->
    <nav class="navbar fixed-top shadow-sm navbar-expand-lg bg-dark py-3 py-lg-0 px-lg-5">
        <div class="navbar-collapse justify-content-between" id="toolbar">
            <a href="index1.html" class="navbar-brand mx-5 d-lg-block">
                <img src="img/logo.png" width="250px">
                <!-- <h5 class="text-white my-n2">云端可视化交互平台</h5> -->
            </a>
            <div class="navbar-nav ml-auto py-0">
                <a href="map.html" class="fontsize"><img src="img/概况.svg" class="gap" width="30px" />实况</a>
                <a href="#gallery" class="fontsize"><img src="img/司机.svg" class="gap" width="30px" />司机</a>
                <a href="#gallery" class="fontsize"><img src="img/信箱.svg" class="gap" width="30px" />信箱</a>
            </div>
            <div id="box">
                <input type="search" name="search" placeholder="请输入查找司机关键词">
                <div id="search">搜索</div>
            </div>
        </div>
    </nav>

    <!-- py-*可以调整司机图标到顶部的距离 -->
    <div class="container-fluid py-5" id="real-time">
        <div class="container py-5 mt-5">
            <div class="float-left p-4">
                <img class="position-absolute" width="600px" src="img/bus.jpg" style="object-fit: cover;">
                <div class="left-up-exceed">1-鄂A·JD343</div>
                <p id="time" class="left-up text-white bottom">{{time}}</p>
                <p class="left-up text-white bottom">当前站：八一路小洪山</p>
                <p class="left-up text-white bottom">下一站：珞狮路北段</p>
            </div>

            <div class="float-right d-flex flex-column justify-content-center bg-secondary p-4">
                <h3 class="text-dark-blue">司机详情 </h3>
                <h5 class="text-teal">生理指标</h5>
                <div class="position-relative text-teal">
                    <p id="con">心率：{{condition[0]}} 血压：{{condition[1]}}/{{condition[2]}} 体温：{{condition[3]}} 血氧：{{condition[4]}}</p>
                </div>
                <h5 class="text-teal">实时图像</h5>
                <div id="po" class="text-teal">
                    <div class="wrapper bottom">
                        <p class="bottom">抽烟</p>
                        <canvas class="bottom" id="rectangle0" width="100px" height="10px"></canvas>
                        <p class="bottom">{{possible[0]}}</p>
                        <p class="bottom">闭眼</p>
                        <canvas class="bottom" id="rectangle1" width="100px" height="10px"></canvas>
                        <p class="bottom">{{possible[1]}}</p>
                        <p class="bottom">打哈欠</p>
                        <canvas class="bottom" id="rectangle2" width="100px" height="10px"></canvas>
                        <p class="bottom">{{possible[2]}}</p>
                        <p class="bottom">使用手机</p>
                        <canvas class="bottom" id="rectangle3" width="100px" height="10px"></canvas>
                        <p class="bottom">{{possible[3]}}</p>
                        <p class="bottom mini-text">未系安全带</p>
                        <canvas class="bottom" id="rectangle4" width="100px" height="10px"></canvas>
                        <p class="bottom">{{possible[4]}}</p>
                        <p class="bottom mini-text">视角未看前方</p>
                        <canvas class="bottom" id="rectangle5" width="100px" height="10px"></canvas>
                        <p class="bottom">{{possible[5]}}</p>
                        <p class="bottom mini-text">未正确佩戴口罩</p>
                        <canvas class="bottom" id="rectangle6" width="100px" height="10px"></canvas>
                        <p class="bottom">{{possible[6]}}</p>
                        <p class="bottom mini-text">双手离开方向盘</p>
                        <canvas class="bottom" id="rectangle7" width="100px" height="10px"></canvas>
                        <p class="bottom">{{possible[7]}}</p>
                    </div>
                </div>
                <h3 class="mb-3 text-dark-blue">疑似异常</h3>
                <div class="position-relative text-teal">
                    <h5 class="text-teal">生理指标</h5>
                    <div class="position-relative text-teal">
                        <p>无</p>
                    </div>
                    <h5 class="text-teal">实时图像</h5>
                    <div class="text-teal">
                        <div class="wrapper-danger bottom">
                            <p class="bottom">抽烟：</p>
                            <p class="bottom">0次</p>
                            <p class="bottom">闭眼：</p>
                            <p class="bottom">1次</p>
                            <p class="bottom">打哈欠:</p>
                            <p class="bottom">0次</p>
                            <p class="bottom ">使用手机:</p>
                            <p class="bottom">0次</p>
                            <p class="bottom mini-text">未系安全带：</p>
                            <p class="bottom">0次</p>
                            <p class="bottom mini-text">视角未看前方：</p>
                            <p class="bottom">0次</p>
                            <p class="bottom mini-text">未正确佩戴口罩：</p>
                            <p class="bottom">0次</p>
                            <p class="bottom mini-text">双手离开方向盘：</p>
                            <p class="bottom">0次</p>
                        </div>
                    </div>
                </div>
                <p class="float-right text-dark-blue">司机电话：18572326828</p>
                <button class="float-right text-dark-blue">立即联系</button>
            </div>
        </div>
    </div>

    <div class="container-fluid bg-dark text-white py-4" id="contact" style="margin-top: 90px;">
        <div class="container text-center py-5">
            <div class="section-title position-relative text-center">
                <h1 class="font-secondary display-3 text-white">公交管家</h1>
                <!-- <i class="far fa-heart text-white"></i> -->
            </div>
            <!-- <div class="d-flex justify-content-center mb-4">
                <a class="btn btn-lg btn-outline-light btn-lg-square mr-2" href="#"><i class="fab fa-twitter"></i></a>
                <a class="btn btn-lg btn-outline-light btn-lg-square mr-2" href="#"><i class="fab fa-facebook-f"></i></a>
                <a class="btn btn-lg btn-outline-light btn-lg-square mr-2" href="#"><i class="fab fa-linkedin-in"></i></a>
                <a class="btn btn-lg btn-outline-light btn-lg-square" href="#"><i class="fab fa-instagram"></i></a>
            </div> -->
            <div class="position-relative text-center">
                Bus management system<br/> an integrated monitering system involving cloud interaction and wearable devices
            </div>
            <div class="d-flex justify-content-center py-2">
                <p class="text-white" href="#"><a href="email-protection.html" class="__cf_email__" data-cfemail="9ef7f0f8f1defbe6fff3eef2fbb0fdf1f3">[联系方式]</a></p>
                <span class="px-3">|</span>
                <p class="text-white" href="#"><a href="email-protection.html" class="__cf_email__" data-cfemail="9ef7f0f8f1defbe6fff3eef2fbb0fdf1f3">[关于我们]</a></p>
            </div>
            <p class="m-0">Copyright &copy; 2022.Bus Manager System.
            </p>
        </div>
    </div>
    <script>
        var vm = new Vue({
            el: "#time",
            data: {
                time: Date()
            }
        })

        var po = new Vue({
            el: "#po",
            data: {
                possible: [0.2, 0.5, 0.5, 0.5, 0.5, 0.5, 0.5, 0.5]
            }
        })

        var con = new Vue({
            el: "#con",
            data: {
                condition: [98, 98, 98, 98, 98]
            }
        })

        function drawOneRect(name, i) {
            var canvas = document.getElementById(name);
            canvas.width = canvas.width;
            var context = canvas.getContext('2d');
            context.fillStyle = "#20c997"
            var random = Math.random();
            Vue.set(po.possible, i, random.toFixed(2));
            var l = Math.round(random * 100);
            context.fillRect(0, 0, l, 2);
        }

        function drawRect() {
            for (i = 0; i < 8; i++) {
                drawOneRect("rectangle" + i, i);
            }
        }

        function setCon() {
            for (i = 0; i < 5; i++) {
                Vue.set(con.condition, i, 50 + Math.round(Math.random() * 50));
            }
        }

        window.setInterval(() => {
            setTimeout(() => {
                vm.time = Date();
                drawRect();
                setCon();
            }, 0)
        }, 1000)
    </script>
    <script src="static/js/jquery-3.4.1.min.js" type="9d47a5dc52c82fb37a1ef233-text/javascript"></script>
    <script src="static/js/bootstrap.bundle.min.js" type="9d47a5dc52c82fb37a1ef233-text/javascript"></script>
    <script src="static/js/easing.min.js" type="9d47a5dc52c82fb37a1ef233-text/javascript"></script>
    <script src="static/js/waypoints.min.js" type="9d47a5dc52c82fb37a1ef233-text/javascript"></script>
    <script src="static/js/owl.carousel.min.js" type="9d47a5dc52c82fb37a1ef233-text/javascript"></script>
    <script src="static/js/isotope.pkgd.min.js" type="9d47a5dc52c82fb37a1ef233-text/javascript"></script>
    <script src="static/js/lightbox.min.js" type="9d47a5dc52c82fb37a1ef233-text/javascript"></script>
    <script src="static/js/main.js" type="9d47a5dc52c82fb37a1ef233-text/javascript"></script>
</body>

</html>